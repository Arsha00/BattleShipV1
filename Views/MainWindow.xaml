<!--Author: Arian Shaafi-->

<Window x:Class="BattleshipGame.Views.MainWindow"
xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
xmlns:vm="clr-namespace:BattleshipGame.ViewModels"
mc:Ignorable="d"
Title="BattleShip V1" Height="600" Width="1000">
    <Window.DataContext>
        <vm:MainViewModel />
    </Window.DataContext>
    <Grid Margin="10">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>


        <!-- ==================== Player Board ==================== -->
        <Grid Grid.Column="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" SharedSizeGroup="BoardLabel"/>
                <RowDefinition Height="*" SharedSizeGroup="BoardGrid"/>
            </Grid.RowDefinitions>

            <TextBlock Text="Your Board"
                       FontSize="18"
                       Margin="0,0,0,8"
                       HorizontalAlignment="Center"/>
            

            <ItemsControl Grid.Row="1" ItemsSource="{Binding PlayerBoard.Cells}">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <UniformGrid Rows="10" Columns="10"/>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Button Content="{Binding Display}"
                                Width="40" Height="40"
                                FontSize="16"
                                Command="{Binding DataContext.AttackCommand, RelativeSource={RelativeSource AncestorType=Window}}"
                                CommandParameter="{Binding}"/>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </Grid>

        <!-- ==================== Center Controls ==================== -->
        <StackPanel Grid.Column="1"
                    Margin="12"
                    VerticalAlignment="Center">
            <Button Content="New Game"
                    Command="{Binding NewGameCommand}"
                    Margin="0,0,0,8"/>
            <TextBlock Text="{Binding Status}"
                       Width="200"
                       TextWrapping="Wrap"
                       TextAlignment="Center"/>
        </StackPanel>

        <!-- ==================== Enemy Board ==================== -->
        <Grid Grid.Column="2">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" SharedSizeGroup="BoardLabel"/>
                <RowDefinition Height="*" SharedSizeGroup="BoardGrid"/>
            </Grid.RowDefinitions>

            <TextBlock Text="Enemy Board"
                       FontSize="18"
                       Margin="0,0,0,8"
                       HorizontalAlignment="Center"/>
            

            <ItemsControl Grid.Row="1" ItemsSource="{Binding EnemyBoard.Cells}">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <UniformGrid Rows="10" Columns="10"/>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Button Content="{Binding Display}"
                                Width="40" Height="40"
                                FontSize="16"
                                Command="{Binding DataContext.AttackCommand, RelativeSource={RelativeSource AncestorType=Window}}"
                                CommandParameter="{Binding}"/>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </Grid>
    </Grid>
</Window>